(this["webpackJsonpchat-realtime-application"]=this["webpackJsonpchat-realtime-application"]||[]).push([[0],{180:function(e,t,n){},181:function(e,t,n){},268:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(154),s=n.n(i),r=(n(180),n(181),n(5)),o=n(1),l=n.n(o),d=n(279),j=n(287),b=n(288),u=n(81);n(183),n(273),n(271),n(272);u.a.initializeApp({apiKey:"AIzaSyA6VeCRWQw-gLjpoHd-Ez6kjna1mdCg9KE",authDomain:"chat-app-ca1eb.firebaseapp.com",projectId:"chat-app-ca1eb",storageBucket:"chat-app-ca1eb.appspot.com",messagingSenderId:"175533772032",appId:"1:175533772032:web:12bff5b7bf258c57d3f7e5"}),u.a.analytics();var p=u.a.auth(),x=u.a.firestore(),m=u.a.storage(),h=u.a,O=n(13),f=n(6),g=function(e,t){x.collection(e).add(Object(f.a)(Object(f.a)({},t),{},{createdAt:h.firestore.FieldValue.serverTimestamp()}))},v=function(e){for(var t=e.split(" ").filter((function(e){return e})),n=t.length,a=[],c=[],i=[],s=0;s<n;s++)a[s]=!1;!function e(s){for(var r=0;r<n;r++)a[r]||(a[r]=!0,c[s]=t[r],s===n-1&&i.push(c.join(" ")),e(s+1),a[r]=!1)}(0);var r=i.reduce((function(e,t){var n=function(e){var t=[],n="";return e.split("").forEach((function(e){n+=e,t.push(n)})),t}(t);return[].concat(Object(O.a)(e),Object(O.a)(n))}),[]);return r},y=n(9),w=(d.a.Title,new h.auth.FacebookAuthProvider),N=new h.auth.GoogleAuthProvider;function C(){var e=function(){var e=Object(r.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.signInWithPopup(N);case 2:t=e.sent,n=t.additionalUserInfo,a=t.user,null!==n&&void 0!==n&&n.isNewUser&&g("users",{displayName:a.displayName,email:a.email,photoURL:a.photoURL,uid:a.uid,providerId:n.providerId,keywords:v(null===(c=a.displayName)||void 0===c?void 0:c.toLowerCase())});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(r.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.signInWithPopup(w);case 2:t=e.sent,n=t.additionalUserInfo,a=t.user,null!==n&&void 0!==n&&n.isNewUser&&g("users",{displayName:a.displayName,email:a.email,photoURL:a.photoURL,uid:a.uid,providerId:n.providerId,keywords:v(null===(c=a.displayName)||void 0===c?void 0:c.toLowerCase())});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{id:"login-page",children:Object(y.jsxs)("div",{id:"login-card",children:[Object(y.jsx)("h2",{children:"Chat Realtime Application"}),Object(y.jsxs)("div",{className:"login-button google",onClick:function(){return e(N)},children:[Object(y.jsx)(j.a,{})," SIGN IN WITH GOOGLE"]}),Object(y.jsx)("br",{})," ",Object(y.jsx)("br",{}),Object(y.jsxs)("div",{className:"login-button facebook",onClick:function(){return t(w)},children:[Object(y.jsx)(b.a,{})," SIGN IN WITH FACEBOOK"]})]})})}var z,I=n(139),k=n(38),R=n(276),S=n(277),L=n(31),A=n(32),U=n(80),F=n(289),V=n(290),_=n(291),T=n(292),M=n(293),E=n(294),P=n(295),D=Object(A.a)("div")(z||(z=Object(L.a)(["\n    height: 100vh;\n    background-color: rgb(0, 145, 255) !important;\n\n    button {\n        border-color: none;\n        color: white;\n        align-items: flex-start;\n        font-size: 30px !important;\n    }\n"])));function B(){return Object(y.jsx)(D,{children:Object(y.jsxs)("div",{className:"nav-bar",children:[Object(y.jsx)("div",{className:"nav-icon",children:Object(y.jsx)(U.a,{style:{height:50,width:60,marginTop:56},type:"text",size:"large",icon:Object(y.jsx)(F.a,{})})}),Object(y.jsx)("div",{className:"nav-icon",children:Object(y.jsx)(U.a,{style:{height:50,width:60,marginTop:10},type:"text",size:"large",icon:Object(y.jsx)(V.a,{})})}),Object(y.jsx)("div",{className:"nav-icon",children:Object(y.jsx)(U.a,{style:{height:50,width:60,marginTop:10},type:"text",size:"large",icon:Object(y.jsx)(_.a,{})})}),Object(y.jsx)("div",{className:"nav-icon",children:Object(y.jsx)(U.a,{style:{height:50,width:60,marginTop:10},type:"text",size:"large",icon:Object(y.jsx)(T.a,{})})}),Object(y.jsx)("div",{className:"nav-icon",children:Object(y.jsx)(U.a,{style:{height:50,width:60,marginTop:10},type:"text",size:"large",icon:Object(y.jsx)(M.a,{})})}),Object(y.jsx)("div",{className:"nav-icon",children:Object(y.jsx)(U.a,{style:{height:50,width:60,marginTop:10},type:"text",size:"large",icon:Object(y.jsx)(E.a,{})})}),Object(y.jsx)("div",{className:"nav-icon",children:Object(y.jsx)(U.a,{style:{height:50,width:60,marginTop:10},type:"text",size:"large",icon:Object(y.jsx)(P.a,{})})})]})})}var G=n(283),W=n(8),H=n(275),J=c.a.createContext();function K(e){var t=e.children,n=Object(a.useState)({}),i=Object(W.a)(n,2),s=i[0],r=i[1],o=Object(k.f)(),l=Object(a.useState)(!0),d=Object(W.a)(l,2),j=d[0],b=d[1];return c.a.useEffect((function(){var e=p.onAuthStateChanged((function(e){if(e){var t=e.displayName,n=e.email,a=e.uid,c=e.photoURL;return r({displayName:t,email:n,uid:a,photoURL:c}),b(!1),void o.push("/")}r({}),b(!1),o.push("/login")}));return function(){e()}}),[o]),Object(y.jsx)(J.Provider,{value:{user:s},children:j?Object(y.jsx)(H.a,{style:{position:"fixed",inset:0}}):t})}var q,Q=n(296),X=A.a.div(q||(q=Object(L.a)(["\n    display: flex;\n    justify-content: space-between;\n    padding: 12px 16px;\n    border-bottom: 1px solid rgb(230,230,230);\n\n    .username {\n      font-weight: bold;\n      margin-left: 5px;\n    }\n    .button-logout {\n      //font-weight: bold;\n      color: black;\n      font-size: 15px;\n      border: none;\n    }\n"])));function Y(){var e,t=c.a.useContext(J).user,n=t.displayName,a=t.photoURL;return Object(y.jsxs)(X,{children:[Object(y.jsxs)("div",{children:[Object(y.jsx)(G.a,{src:a,children:a?"":null===n||void 0===n||null===(e=n.charAt(0))||void 0===e?void 0:e.toUperCase()}),Object(y.jsx)(d.a.Text,{className:"username",children:n})]}),Object(y.jsx)(U.a,{className:"button-logout",ghost:!0,icon:Object(y.jsx)(Q.a,{}),onClick:function(){return p.signOut()},children:"Log out"})]})}var Z=n(284),$=n(281),ee=n(285),te=n(127),ne=n(78),ae=n(297),ce=n(298),ie=function(e,t){var n=Object(a.useState)([]),i=Object(W.a)(n,2),s=i[0],r=i[1];return c.a.useEffect((function(){var n=x.collection(e).orderBy("createdAt");if(t){if(!t.compareValue||!t.compareValue.length)return void r([]);n=n.where(t.fieldName,t.operator,t.compareValue)}var a=n.onSnapshot((function(e){var t=e.docs.map((function(e){return Object(f.a)(Object(f.a)({},e.data()),{},{id:e.id})}));r(t)}));return a}),[e,t]),s},se=c.a.createContext();function re(e){var t=e.children,n=Object(a.useState)(!1),i=Object(W.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(!1),l=Object(W.a)(o,2),d=l[0],j=l[1],b=Object(a.useState)(""),u=Object(W.a)(b,2),p=u[0],x=u[1],m=Object(a.useState)(!1),h=Object(W.a)(m,2),O=h[0],f=h[1],g=Object(a.useState)(!1),v=Object(W.a)(g,2),w=v[0],N=v[1],C=c.a.useContext(J).user.uid,z=c.a.useMemo((function(){return{fieldName:"members",operator:"array-contains",compareValue:C}}),[C]),I=ie("rooms",z),k=c.a.useMemo((function(){return I.find((function(e){return e.id===p}))||{}}),[I,p]),R=c.a.useMemo((function(){return{fieldName:"uid",operator:"in",compareValue:k.members}}),[k.members]),S=ie("users",R);return Object(y.jsx)(se.Provider,{value:{rooms:I,members:S,selectedRoom:k,isAddRoomVisible:s,setIsAddRoomVisible:r,selectedRoomId:p,setSelectedRoomId:x,isInviteMemberVisible:d,setIsInviteMemberVisible:j,isAddFriendVisible:O,setIsAddFriendVisible:f,isSearchRoomVisible:w,setIsSearchRoomVisible:N},children:t})}n(268);var oe,le,de,je,be,ue,pe=Z.a.Panel,xe=Object(A.a)($.a)(oe||(oe=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2px 2px 2px 0;\n  width: 66%;\n  height: 35px;\n  margin-top: 15px;\n  margin-left: 15px;\n  border: 1px solid rgb(230, 230, 230);\n  border-radius: 10rem;\n  .ant-form-item {\n    flex: 1;\n    margin-bottom: 0;\n  }\n  \n  float: left;\n"]))),me=Object(A.a)(pe)(le||(le=Object(L.a)(["\n  &&& {\n    .ant-collapse-header,\n    p {\n      color: black;\n      font-size: 15px;\n    }\n    .ant-collapse-content-box {\n      padding: 0 40px;\n    }\n    .add-room {\n      color: black;\n      font-size: 15px;\n      margin-left: -39px;\n    }\n    .button-delete {\n      float: right;\n      margin-top: -10px;\n      margin-right: 0px;\n      color: gray;\n    }\n    .add-friend {\n      color: black;\n      font-size: 15px;\n      margin-left: -39px;\n    }\n  }\n"]))),he=Object(A.a)(U.a)(de||(de=Object(L.a)(["\n    float: left;\n    margin-top: 12px;\n    margin-right: 5px;\n    border: none;\n    background-color: buttonface;\n    border-radius: 15rem;\n"]))),Oe=Object(A.a)(U.a)(je||(je=Object(L.a)(["\n    float: left;\n    margin-top: 12px;\n    margin-right: 5px;\n    border: none;\n    background-color: buttonface;\n    border-radius: 15rem;\n"]))),fe=Object(A.a)(d.a.Link)(be||(be=Object(L.a)(["\n  display: block;\n  margin-bottom: 1px;\n  color: white;\n  font-size: 15px;\n  width: 315px;\n  height: 50px;\n  margin-left: -39px;\n  text-align: left;\n  padding-top: 10px;\n  padding-left: 39px;\n"])));function ge(){var e=c.a.useContext(se),t=e.rooms,n=e.setIsAddRoomVisible,i=e.setSelectedRoomId,s=e.setIsAddFriendVisible,r=Object(a.useState)([]),o=Object(W.a)(r,2),l=o[0],d=o[1],j=Object(a.useState)(""),b=Object(W.a)(j,2),u=b[0],p=b[1];return Object(y.jsxs)(Z.a,{ghost:!0,defaultActiveKey:["1"],children:[Object(y.jsxs)(xe,{children:[0===l.length?Object(y.jsx)(U.a,{icon:Object(y.jsx)(te.a,{}),type:"text",size:"large"}):Object(y.jsx)(U.a,{icon:Object(y.jsx)(ne.a,{}),type:"text",size:"large",onClick:function(){d([]),p("")}}),Object(y.jsx)(ee.a,{type:"text",placeholder:"Search",value:u,onChange:function(e){var n=e.target.value;p(n);var a=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));d(""==n?[]:a)},bordered:!1,autoComplete:"off"})]}),0!=l.length&&Object(y.jsx)("div",{className:"dataResult",children:l.slice(0,10).map((function(e,t){return Object(y.jsx)("a",{className:"dataItem",onClick:function(){return i(e.id)},children:Object(y.jsx)("p",{children:e.name})},t)}))}),Object(y.jsx)(Oe,{children:Object(y.jsx)(U.a,{type:"text",size:"large",icon:Object(y.jsx)(ae.a,{}),className:"add-friend",onClick:function(){return s(!0)}})}),Object(y.jsx)(he,{children:Object(y.jsx)(U.a,{type:"text",size:"large",icon:Object(y.jsx)(ce.a,{}),className:"add-room",onClick:function(){return n(!0)}})}),Object(y.jsxs)(me,{header:"List Rooms",children:[t.length>=10,t.map((function(e,t){return Object(y.jsx)(fe,{onClick:function(){return i(e.id)},children:e.name},e.id)}))]})]})}var ve=A.a.div(ue||(ue=Object(L.a)(["\n    font-size: 15px;\n    height: 100vh;\n    background-color: rgb(240, 240, 240) !important;\n"])));function ye(){return Object(y.jsx)(ve,{children:Object(y.jsxs)(R.a,{children:[Object(y.jsx)(S.a,{span:24,children:Object(y.jsx)(Y,{})}),Object(y.jsx)(S.a,{span:24,children:Object(y.jsx)(ge,{})})]})})}var we,Ne=n(71),Ce=n(280),ze=n(278),Ie=A.a.div(we||(we=Object(L.a)(["\n  margin-bottom: 10px;\n  .author {\n    margin-left: 5px;\n    font-weight: bold;\n  }\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n  .content {\n    margin-left: 30px;\n  }\n"])));function ke(e){var t="";return e&&(t=(t=Object(ze.a)(new Date(1e3*e),new Date)).charAt(0).toUpperCase()+t.slice(1)),t}function Re(e){var t,n=e.text,a=e.type,c=e.displayName,i=e.createdAt,s=e.photoURL;return Object(y.jsxs)(Ie,{children:[Object(y.jsxs)("div",{children:[Object(y.jsx)(G.a,{size:"small",src:s,children:s?"":null===(t=c.charArt(0))||void 0===t?void 0:t.toUperCase()}),Object(y.jsx)(d.a.Text,{className:"author",children:c}),Object(y.jsx)(d.a.Text,{className:"date",children:ke(null===i||void 0===i?void 0:i.seconds)})]}),Object(y.jsx)("div",{children:"image"==a?Object(y.jsx)(Ce.a,{styled:{marginLeft:10},width:200,className:"image",src:n}):Object(y.jsx)(d.a.Text,{className:"content",children:n})})]})}var Se,Le,Ae,Ue,Fe,Ve,_e=n(299),Te=n(300),Me=n(301),Ee=n(302),Pe=n(163),De=(n(269),A.a.div(Se||(Se=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 56px;\n  padding: 0 16px;\n  align-items: center;\n  border-bottom: 1px solid rgb(230, 230, 230);\n  .header {\n    &__info {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n    }\n    &__title {\n      margin: 0;\n      font-weight: bold;\n      color: #0084FF;\n      font-size: 20px;\n    }\n    &__description {\n      font-size: 14px;\n    }\n  }\n"])))),Be=A.a.div(Le||(Le=Object(L.a)(["\n  display: flex;\n  align-items: center;\n"]))),Ge=A.a.div(Ae||(Ae=Object(L.a)(["\n  height: 100vh;\n  .wellcome-header {\n    text-align: center;\n    margin-top: 10%;\n  }\n  .wellcome-subtitle {\n    margin-left: 28%;\n  }\n  .wellcome-subtitle-2 {\n    margin-left: 31%;\n  }\n  .each-slide > div {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-size: cover;\n    height: 350px;\n  }\n  \n  .each-slide span {\n    padding: 20px;\n    font-size: 20px;\n    background: #efefef;\n    text-align: center;\n  }\n"]))),We=A.a.div(Ue||(Ue=Object(L.a)(["\n  height: calc(100% - 56px);\n  display: flex;\n  flex-direction: column;\n  padding: 11px;\n  justify-content: flex-end;\n"]))),He=Object(A.a)($.a)(Fe||(Fe=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2px 2px 2px 0;\n  border: 1px solid rgb(230, 230, 230);\n  border-radius: 2px;\n  .ant-form-item {\n    flex: 1;\n    margin-bottom: 0;\n  }\n  .upload_image {\n    margin-left: 150px;\n  }\n"]))),Je=A.a.div(Ve||(Ve=Object(L.a)(["\n  max-height: 100%;\n  overflow-y: auto;\n"]))),Ke=[{url:"https://chat.zalo.me/assets/quick-message-onboard.3950179c175f636e91e3169b65d1b3e2.png",caption:"Slide 1"},{url:"https://chat.zalo.me/assets/inapp-welcome-screen-03.3f97d49ceecb950d95382b3d8fd4f0f1.png",caption:"Slide 2"},{url:"https://chat.zalo.me/assets/inapp-welcome-screen-01.469ad7daf26e0303dd0d54eb5262e795.jpg",caption:"Slide 3"},{url:"https://chat.zalo.me/assets/inapp-welcome-screen-04.ade93b965a968b16f2203e9d63b283a7.jpg",caption:"Slide 4"},{url:"https://chat.zalo.me/assets/vanish_onboard.95edcd15d875cae4d6d504d739eaa977.png",caption:"Slide 5"},{url:"https://chat.zalo.me/assets/inapp-welcome-screen-02.7f8cab265c34128a01a19f3bcd5f327a.jpg",caption:"Slide 6"}];function qe(){var e=Object(a.useContext)(se),t=e.selectedRoom,n=e.members,i=e.setIsInviteMemberVisible,s=Object(a.useContext)(J).user,r=s.uid,o=s.photoURL,l=s.displayName,d=Object(a.useState)(""),j=Object(W.a)(d,2),b=j[0],u=j[1],p=$.a.useForm(),x=Object(W.a)(p,1)[0],h=Object(a.useState)(null),O=Object(W.a)(h,2),f=O[0],v=O[1],w=Object(a.useState)(""),N=Object(W.a)(w,2),C=(N[0],N[1]),z=Object(a.useState)(0),I=Object(W.a)(z,2),k=(I[0],I[1]),R=function(){null!=f&&(m.ref("images/".concat(f.name)).put(f).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);k(t)}),(function(e){console.log(e)}),(function(){m.ref("images").child(f.name).getDownloadURL().then((function(e){C(e),g("messages",{text:e,uid:r,type:"image",photoURL:o,roomId:t.id,displayName:l})}))})),setTimeout((function(){return x.resetFields(["upload"])({position:1})}),5e3))},S=function(){""!=b&&(g("messages",{text:b,type:"text",uid:r,photoURL:o,roomId:t.id,displayName:l}),x.resetFields(["message"]))},L=c.a.useMemo((function(){return{fieldName:"roomId",operator:"==",compareValue:t.id}}),[t.id]),A=ie("messages",L);return Object(y.jsx)(Ge,{children:t.id?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(De,{children:[Object(y.jsxs)("div",{className:"header__info",children:[Object(y.jsx)("p",{className:"header__title",children:t.name}),Object(y.jsx)("span",{className:"header__description",children:t.description})]}),Object(y.jsxs)(Be,{children:[Object(y.jsx)(U.a,{type:"text",size:"large",icon:Object(y.jsx)(te.a,{})}),Object(y.jsx)(U.a,{icon:Object(y.jsx)(ce.a,{}),type:"text",size:"large",onClick:function(){return i(!0)}}),Object(y.jsx)(U.a,{type:"text",size:"large",icon:Object(y.jsx)(_e.a,{})}),Object(y.jsx)(U.a,{type:"text",size:"large",icon:Object(y.jsx)(Te.a,{})}),Object(y.jsx)(G.a.Group,{size:"small",maxCount:2,children:n.map((function(e){var t,n;return Object(y.jsx)(Ne.a,{title:e.displayName,children:Object(y.jsx)(G.a,{src:e.photoURL,children:e.photoURL?"":null===(t=e.displayName)||void 0===t||null===(n=t.charArt(0))||void 0===n?void 0:n.toUpperCase()})},e.id)}))})]})]}),Object(y.jsxs)(We,{children:[Object(y.jsx)(Je,{children:A.map((function(e){return Object(y.jsx)(Re,{text:e.text,type:e.type,photoURL:e.photoURL,displayName:e.displayName,createdAt:e.createdAt},e.id)}))}),Object(y.jsxs)(He,{form:x,children:[Object(y.jsx)($.a.Item,{name:"upload",children:Object(y.jsx)(ee.a,{type:"file",onChange:function(e){e.target.files[0]&&v(e.target.files[0])},onPressEnter:R,name:"file",display:"none",accept:"image/*",bordered:!1,autoComplete:"off"})}),Object(y.jsx)(U.a,{type:"primary",size:"large",icon:Object(y.jsx)(Me.a,{}),onClick:R})]}),Object(y.jsxs)(He,{form:x,children:[Object(y.jsx)($.a.Item,{name:"message",children:Object(y.jsx)(ee.a,{onChange:function(e){u(e.target.value)},onPressEnter:S,placeholder:"Type a message here",bordered:!1,autoComplete:"off"})}),Object(y.jsx)(U.a,{icon:Object(y.jsx)(Ee.a,{}),size:"large",type:"primary",onClick:S})]})]})]}):Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{className:"wellcome-header",children:"Wellcome to Chat App"}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{className:"wellcome-subtitle",children:"Discover utilities that support working and chatting with "}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{className:"wellcome-subtitle-2",children:"family and friends optimized for your computer"}),Object(y.jsx)("div",{className:"slide-container",children:Object(y.jsx)(Pe.Slide,{children:Ke.map((function(e,t){return Object(y.jsx)("div",{className:"each-slide",children:Object(y.jsx)("div",{style:{backgroundImage:"url(".concat(e.url,")")}})},t)}))})})]})})}var Qe,Xe,Ye,Ze,$e,et,tt,nt=n(303),at=n(304),ct=n(305),it=n(306),st=n(170),rt=n(307),ot=n(308),lt=n(72),dt=Object(A.a)("div")(Qe||(Qe=Object(L.a)(["\n  margin-left: 10px;\n  margin-top: 30px;\n"]))),jt=Object(A.a)("div")(Xe||(Xe=Object(L.a)(["\n  font-weight: bold;\n  margin-left: 30px;\n  .ant-collapse-content-box {\n    padding: 0 40px;\n  }\n"]))),bt=Object(A.a)("div")(Ye||(Ye=Object(L.a)([""]))),ut=Object(A.a)("ul")(Ze||(Ze=Object(L.a)([""]))),pt=(Object(A.a)("li")($e||($e=Object(L.a)([""]))),A.a.div(et||(et=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 56px;\n  padding: 0 16px;\n  align-items: center;\n  border-bottom: 1px solid rgb(230, 230, 230);\n  .header {\n    &__info {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n    }\n    &__title {\n      color: #0084FF;\n      margin: 0;\n      margin-left: 80px;\n      font-weight: bold;\n      font-size: 20px;\n      float: right;\n    }\n    &__description {\n      font-size: 14px;\n    }\n  }\n"])))),xt=A.a.div(tt||(tt=Object(L.a)(["\n    font-size: 15px;\n    height: 100vh;\n    background-color: rgb(240, 240, 240) !important;\n"])));function mt(e){e.text,e.type,e.displayName,e.createdAt,e.photoURL;var t=Object(a.useContext)(se),n=t.selectedRoom,i=t.members,s=Object(a.useState)(!1),r=Object(W.a)(s,2),o=r[0],l=r[1],d=Object(a.useState)(!1),j=Object(W.a)(d,2),b=(j[0],j[1],Object(a.useState)(!1)),u=Object(W.a)(b,2),p=u[0],x=u[1],m=Object(a.useState)(!1),h=Object(W.a)(m,2),O=h[0],f=h[1],g=Object(a.useState)(!1),v=Object(W.a)(g,2),w=v[0],N=v[1],C=Object(a.useState)(!1),z=Object(W.a)(C,2),I=z[0],k=z[1],L=c.a.useMemo((function(){return{fieldName:"roomId",operator:"==",compareValue:n.id}}),[n.id]),A=ie("messages",L);return Object(y.jsx)(xt,{children:Object(y.jsx)(R.a,{children:Object(y.jsxs)(S.a,{span:24,children:[Object(y.jsx)(pt,{children:Object(y.jsxs)("div",{className:"header__info",children:[Object(y.jsx)("p",{className:"header__title",children:"Room Infomation"}),Object(y.jsx)("span",{className:"header__description"})]})}),n.id?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"dropdown",children:[Object(y.jsxs)(dt,{children:[Object(y.jsx)(jt,{onClick:function(){return l(!o)},children:"Group member"}),o&&Object(y.jsx)(bt,{children:Object(y.jsxs)(ut,{children:[Object(y.jsxs)(U.a,{icon:Object(y.jsx)(nt.a,{}),type:"text",size:"large",children:[i.length," Members"]}),Object(y.jsx)(U.a,{icon:Object(y.jsx)(P.a,{}),type:"text",size:"large",children:"Manage, permission settings"})]})})]}),Object(y.jsxs)(dt,{children:[Object(y.jsx)(jt,{onClick:function(){return x(!p)},children:"Photos/Videos"}),p&&Object(y.jsx)(bt,{children:A.filter((function(e){return"image"==e.type})).slice(0,4).map((function(e){return Object(y.jsx)(Ce.a,{style:{marginRight:10,padding:5},width:70,height:70,src:e.text})}))})]}),Object(y.jsxs)(dt,{children:[Object(y.jsx)(jt,{onClick:function(){return f(!O)},children:"Files"}),O&&Object(y.jsx)(bt,{children:Object(y.jsxs)(ut,{children:[Object(y.jsx)(U.a,{icon:Object(y.jsx)(at.a,{}),type:"text",size:"large"}),"reactJs-community.docs",Object(y.jsx)("br",{}),Object(y.jsx)(U.a,{icon:Object(y.jsx)(ct.a,{}),type:"text",size:"large"}),"reactJs-community.exls"]})})]}),Object(y.jsxs)(dt,{children:[Object(y.jsx)(jt,{onClick:function(){return N(!w)},children:"Links"}),w&&Object(y.jsx)(bt,{children:Object(y.jsxs)(ut,{children:[Object(y.jsx)(U.a,{icon:Object(y.jsx)(it.a,{}),type:"text",size:"large"}),"https://facebook.com/truongtu",Object(y.jsx)("br",{}),Object(y.jsx)(U.a,{icon:Object(y.jsx)(it.a,{}),type:"text",size:"large"}),"https://google.com/reactjs"]})})]}),Object(y.jsxs)(dt,{children:[Object(y.jsx)(jt,{onClick:function(){return k(!I)},children:"Security settings"}),I&&Object(y.jsx)(bt,{children:Object(y.jsxs)(ut,{children:[Object(y.jsx)(U.a,{icon:Object(y.jsx)(st.a,{}),type:"text",size:"large"}),"Hiden chat",Object(y.jsx)("br",{}),Object(y.jsx)(U.a,{icon:Object(y.jsx)(rt.a,{}),type:"text",size:"large"}),"Delete chat history",Object(y.jsx)("br",{}),Object(y.jsx)(U.a,{icon:Object(y.jsx)(ot.a,{}),type:"text",size:"large"}),"Leave the group"]})})]})]})}):Object(y.jsx)(U.a,{icon:Object(y.jsx)(lt.a,{}),size:"large",type:"text",style:{margin:10}})]})})})}function ht(){return Object(y.jsxs)(R.a,{children:[Object(y.jsxs)(S.a,{span:1,children:[Object(y.jsx)(B,{})," "]}),Object(y.jsxs)(S.a,{span:5,children:[Object(y.jsx)(ye,{})," "]}),Object(y.jsxs)(S.a,{span:13,children:[Object(y.jsx)(qe,{})," "]}),Object(y.jsx)(S.a,{span:5,children:Object(y.jsx)(mt,{})})]})}var Ot=n(282);function ft(){var e=Object(a.useContext)(se),t=e.isAddRoomVisible,n=e.setIsAddRoomVisible,c=Object(a.useContext)(J).user.uid,i=$.a.useForm(),s=Object(W.a)(i,1)[0];return Object(y.jsx)("div",{children:Object(y.jsx)(Ot.a,{title:"Create New Room",visible:t,onOk:function(){console.log({formData:s.getFieldValue()}),g("rooms",Object(f.a)(Object(f.a)({},s.getFieldsValue()),{},{members:[c]})),s.resetFields(),n(!1)},onCancel:function(){s.resetFields(),n(!1)},children:Object(y.jsxs)($.a,{form:s,layout:"vertical",children:[Object(y.jsx)($.a.Item,{label:"Room name",name:"name",children:Object(y.jsx)(ee.a,{placeholder:"Enter room name "})}),Object(y.jsx)($.a.Item,{label:"Description",name:"description",children:Object(y.jsx)(ee.a.TextArea,{placeholder:"Enter description "})})]})})})}var gt=n(22),vt=n(286),yt=n(164),wt=["fetchOptions","debounceTimeout","currentMembers"];function Nt(e){var t=e.fetchOptions,n=e.debounceTimeout,i=void 0===n?300:n,s=e.currentMembers,r=Object(gt.a)(e,wt),o=Object(a.useState)(!1),l=Object(W.a)(o,2),d=l[0],j=l[1],b=Object(a.useState)([]),u=Object(W.a)(b,2),p=u[0],x=u[1],m=c.a.useMemo((function(){return Object(yt.debounce)((function(e){x([]),j(!0),t(e,s).then((function(e){x(e),j(!1)}))}),i)}),[i,t,s]);return Object(y.jsx)(vt.a,Object(f.a)(Object(f.a)({labelInValue:!0,filterOption:!1,onSearch:m,notFoundContent:d?Object(y.jsx)(H.a,{size:"small"}):null},r),{},{children:p.map((function(e){var t,n;return Object(y.jsxs)(vt.a.Option,{value:e.value,title:e.label,children:[Object(y.jsx)(G.a,{size:"small",src:e.photoURL,children:e.photoURL?"":null===(t=e.label)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()})," ".concat(e.label)]},e.value)}))}))}function Ct(e,t){return zt.apply(this,arguments)}function zt(){return(zt=Object(r.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.collection("users").where("keywords","array-contains",null===t||void 0===t?void 0:t.toLowerCase()).orderBy("displayName").limit(20).get().then((function(e){return e.docs.map((function(e){return{label:e.data().displayName,value:e.data().uid,photoURL:e.data().photoURL}})).filter((function(e){return!n.includes(e.value)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(){var e=Object(a.useContext)(se),t=e.isInviteMemberVisible,n=e.setIsInviteMemberVisible,c=e.selectedRoomId,i=e.selectedRoom,s=Object(a.useState)([]),r=Object(W.a)(s,2),o=r[0],l=r[1],d=$.a.useForm(),j=Object(W.a)(d,1)[0];return Object(y.jsx)("div",{children:Object(y.jsx)(Ot.a,{title:"Invite members",visible:t,onOk:function(){j.resetFields(),l([]),x.collection("rooms").doc(c).update({members:[].concat(Object(O.a)(i.members),Object(O.a)(o.map((function(e){return e.value}))))}),n(!1)},onCancel:function(){j.resetFields(),l([]),n(!1)},destroyOnClose:!0,children:Object(y.jsx)($.a,{form:j,layout:"vertical",children:Object(y.jsx)(Nt,{mode:"multiple",name:"search-user",label:"Members names",value:o,placeholder:"Enter member name",fetchOptions:Ct,onChange:function(e){return l(e)},style:{width:"100%"},currentMembers:i.members})})})})}var kt=function(){return Object(y.jsxs)(I.a,{children:[Object(y.jsxs)(K,{children:[Object(y.jsxs)(re,{children:[Object(y.jsxs)(k.c,{children:[Object(y.jsx)(k.a,{component:C,path:"/login"}),Object(y.jsx)(k.a,{component:ht,path:"/"})]})," ",Object(y.jsx)(ft,{}),Object(y.jsx)(It,{})]})," "]})," "]})},Rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,309)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(kt,{})})),Rt()}},[[270,1,2]]]);
//# sourceMappingURL=main.b62de363.chunk.js.map